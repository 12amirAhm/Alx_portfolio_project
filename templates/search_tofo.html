{% extends 'base.html' %}
{% load static %}

{% block content %}
<main class="layout layout--3">
  <script>
    window.addEventListener("load", () => {
  const loader = document.querySelector(".loader");

  loader.classList.add("loader--hidden");

  loader.addEventListener("transitionend", () => {
    document.body.removeChild(loader);
  });
});
  </script>

    <style type = "text/css"> 
    @media (min-width: 897px) {
          .mobile {
            display: none;
           
          }
        } 
  
        
        .auto {  
           display: block;  
      
   padding-bottom: 100px;  
           width: 100%;  
           height: 999px;  
           overflow: auto;  
        } 
        
        .loader {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #333333;
  transition: opacity 0.75s, visibility 0.75s;
}

.loader--hidden {
  opacity: 0;
  visibility: hidden;
}

.loader::after {
  content: "";
  width: 75px;
  height: 75px;
  border: 15px solid #dddddd;
  border-top-color: #71c6dd;
  border-radius: 50%;
  animation: loading 0.75s ease infinite;
}

@keyframes loading {
  from {
    transform: rotate(0turn);
  }
  to {
    transform: rotate(1turn);
  }
}

     </style>  
    <div class="container">

      
   
       
        <div>
            
        </div>
    
        <div class="roomList">
          <div class="loader" style="display: flex; flex-direction: column;">
            <h1 style="font-size: 26px; display: flex;">Slow Connection ...</h1>
            
          </div>
         
            <h1 style="font-size: 25px; font-weight: normal; color: black;">Find Someone To Follow and connect with</h1>
            <div style="margin-bottom: 20px;">
              <div  class="mobile-menu">
                <form  action="" method="GET" class="header__search">
                  <label style="background-color: white;">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                      <title>search</title>
                      <path
                        d="M32 30.586l-10.845-10.845c1.771-2.092 2.845-4.791 2.845-7.741 0-6.617-5.383-12-12-12s-12 5.383-12 12c0 6.617 5.383 12 12 12 2.949 0 5.649-1.074 7.741-2.845l10.845 10.845 1.414-1.414zM12 22c-5.514 0-10-4.486-10-10s4.486-10 10-10c5.514 0 10 4.486 10 10s-4.486 10-10 10z">
                      </path>
                    </svg>
                    <input style="background-color: white; color:black; font-size: 20px" name="q" placeholder=" Enter Username ...." />
                    <button style="border:none ; background-color: white;" type="submit">
                      <i 
                      style="font-size: 30px; color:  #71c6dd; ;"
    
                      class="fa-solid fa-magnifying-glass"></i>
  
                    </button>
                  </label>
                </form>
               
              </div>
            </div>
           

           
            <div style="margin-bottom: 20px;">
              <form  action="" method="GET" class="header__search">
                <label style="background-color: white;">
                  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                    <title>search</title>
                    <path
                      d="M32 30.586l-10.845-10.845c1.771-2.092 2.845-4.791 2.845-7.741 0-6.617-5.383-12-12-12s-12 5.383-12 12c0 6.617 5.383 12 12 12 2.949 0 5.649-1.074 7.741-2.845l10.845 10.845 1.414-1.414zM12 22c-5.514 0-10-4.486-10-10s4.486-10 10-10c5.514 0 10 4.486 10 10s-4.486 10-10 10z">
                    </path>
                  </svg>
                  <input style="background-color: white; color:black; font-size: 20px;" name="q" placeholder=" Enter Username ...." />
                 <button style="border:none ; background-color: white;" type="submit">
                  <i 
                  style="font-size: 30px; color:  #71c6dd; ;"

                  class="fa-solid fa-magnifying-glass"></i>
                 </button>
                 
                 
                </label>
              </form>
             

               
              


            </div>
           
            
              <div class="auto" >
                
                {% for user in users %}
                <div class="roomListRoom">
                  <div class="roomListRoom__header">
                      <a href="{% url 'profile' user.username %}" class="roomListRoom__author">
                          {% if user.profile.picture %} 
                                      
                          <div >
                              <img style="width: 60px; height: 60px; border-radius: 50px;" src="{{user.profile.picture.url}}" />
                          </div>
                              
              
                           {% else %}
                          
                           <img style="width: 60px; height: 60px; border-radius: 50px;" src="{% static '\images\default_profile.png' %}" />
                       
                          
                          {% endif %}
                      </a>
                      <div class="roomListRoom__actions">
                          <span>{{ user.followers_count }}</span>
                      </div>
              
                      
                  </div>
                  <span style="color: rgb(0, 157, 255);">@{{ user.username }}</span>
                  <div class="roomListRoom__content">
                    {% if user.profile.first_name %} 
                                      
                    <a style="color: black;" href="{% url 'profile' user.username %}">{{ user.profile.first_name }}
                         
                    </a>
        
                     {% else %}
                    
                    <p>

                    </p>
                 
                    
                    {% endif %}
                      
                       
                       
                    
                     
                      
                      <div class="roomListRoom__meta">
                        <a style="background-color: rgb(0, 157, 255); color: black; font-size: 13px;"  class="btn btn--main" href="{% url 'profile' user.username %}">
                          
                          View Profile
                        </a>
                      </div>
                  </div>
                 
               
              </div>
              
              {% endfor %}
            
              </div>

              
                
                     
    </div>
 <div>

 </div>
</main>

{% endblock content %}

<!-- 
{% include 'base/vacancyfeed.html' %} -->
